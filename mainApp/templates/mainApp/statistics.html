{% extends "mainApp/wrapper.html" %} {% block content %} {% load static %}
    <div class="order">

        <div id="air" style="width: 800px; height: 800px; margin: auto; margin-top: -100px; "></div>


        <script src="https://www.google.com/jsapi"></script>
        <script>
            google.load("visualization", "1", {packages: ["corechart"]});
            google.setOnLoadCallback(drawChart);

            function drawChart() {
                var array = {{ areas|safe}};
                console.log(array[0]);

                var data = google.visualization.arrayToDataTable([
                    ['Категория ремонта', 'Кол-во выполненных заказов'],
                    [array[0][0], array[0][1]],
                    [array[1][0], array[1][1]],
                    [array[2][0], array[2][1]],
                    [array[3][0], array[3][1]],
                    [array[4][0], array[4][1]]
                ]);

                var options = {
                    title: 'Отремонтированная техника',
                    is3D: true,
                    pieResidueSliceLabel: 'Остальное'
                };
                var chart = new google.visualization.PieChart(document.getElementById('air'));
                chart.draw(data, options);
            }
        </script>
    </div>
{% endblock %}